<!DOCTYPE html>
 <html>
 	<head>
 		<meta charset="utf-8">
 		<meta http-equiv="X-UA-Compatible" content="IE=edge">
 		<title></title>
 		<meta name="description" content=" " />
 		<meta name="author" content=" " />
 		<meta name="HandheldFriendly" content="true" />
 		<meta name="MobileOptimized" content="320" />
 		<!-- Use maximum-scale and user-scalable at your own risk. It disables pinch/zoom. Think about usability/accessibility before including.-->
 		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
 		<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
 		<link rel="stylesheet" type="text/css" href=" ">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.dev.js" ></script>
 	</head>
 	<body>
 		<h1>How to control the world!</h1>
    <input id="ip" type="text" value="192.168.0.102:3000" /><input id="connect" type="button" value="Connect" /><br />
 		<input id="control" type="button" value="Control World" />

    <script>
    /* TODO: Read up on: */
    // http://markdalgleish.com/2011/03/self-executing-anonymous-functions/

    (function(window, document, undefined){

      let socket = null

      // get the UI elements
      let connectButton = document.getElementById('connect')
      let ipInput = document.getElementById('ip')
      let controlButton = document.getElementById('control')

      connectButton.addEventListener('click', function(){

        let ip = ipInput.value
        socket = io(ip)

      })

      controlButton.addEventListener('click', function(){
        socket.emit('hardware', {msg: 'boom', type: 'led'});
      })


    })(window, document);

    </script>
 	</body>
 </html>
